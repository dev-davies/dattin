<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dat Tin ğŸ‡³ğŸ‡¬</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="stylesheet" href="./css/screens.css">
    <link rel="stylesheet" href="./css/animations.css">
  </head>
  <body>
    <main>
      <button id="sound-btn" class="sound-btn">ğŸ”Š</button>
      
      <!-- Welcome Screen -->
      <div id="welcome-screen" class="screen active">
        <div class="title-screen">
          <h1>Dat Tin <span style="font-size: 75%">ğŸ‡³ğŸ‡¬</span></h1>
          <div class="instructions-box">
             <div class="instructions-heading">How To Play</div>
             <ul class="instructions-list">
               <li class="instruction-item">
                 <span class="instruction-icon">ğŸ—£ï¸</span>
                 <span class="instruction-text">Describe the green word (<strong>Dat Tin</strong>) to your teammates without saying it.</span>
               </li>
               <li class="instruction-item">
                 <span class="instruction-icon">ğŸš«</span>
                 <span class="instruction-text">Avoid using any of the red forbidden words (<strong>No Talk Am!</strong>) listed below.</span>
               </li>
               <li class="instruction-item">
                 <span class="instruction-icon">â³</span>
                 <span class="instruction-text">You have 60 seconds per round. Score as many points as possible!</span>
               </li>
               <li class="instruction-item">
                 <span class="instruction-icon">ğŸ†</span>
                 <span class="instruction-text">The team with the most points after 3 rounds is the <strong>Champion!</strong></span>
               </li>
             </ul>
             <button id="play-now-btn" class="btn btn-primary btn-play-now">Play Now</button>
          </div>
        </div>
      </div>

      <!-- Team Selection Screen -->
      <div id="team-selection-screen" class="screen">
        <div class="title-screen">
          <h1>Dat Tin <span style="font-size: 75%">ğŸ‡³ğŸ‡¬</span></h1>
          <div class="rules">
             <h2 style="margin-bottom: 0;">Select Teams</h2>
          </div>
          <div class="team-setup-box">
            <h2>Select Decks</h2>
            <div class="deck-selector">
                <div class="deck-option selected" data-deck="naija">
                    <span>ğŸ‡³ğŸ‡¬</span> Naija
                </div>
                <div class="deck-option" data-deck="global">
                    <span>ğŸŒ</span> Global
                </div>
            </div>

            <h2>Select number of teams to start</h2>
            <div class="team-count-selector">
                <button class="team-count-btn" data-teams="2">2</button>
                <button class="team-count-btn" data-teams="3">3</button>
                <button class="team-count-btn" data-teams="4">4</button>
            </div>

            <h2>Round Duration</h2>
            <div class="timer-selector" style="display: flex; gap: 0.5rem; justify-content: center; flex-wrap: wrap;">
                <button class="timer-btn selected" data-time="30" style="flex:1; min-width: 45%; padding:0.75rem; border-radius:0.5rem; border:none; background:var(--green-900); color:var(--gray-300); border:2px solid var(--gray-300); font-weight:700; cursor:pointer;">
                    Sharp Sharp <br><span style="font-size: 0.8em; font-weight: 400">30s</span>
                </button>
                <button class="timer-btn" data-time="60" style="flex:1; min-width: 45%; padding:0.75rem; border-radius:0.5rem; border:none; background:var(--green-900); color:var(--gray-300); border:2px solid var(--gray-300); font-weight:700; cursor:pointer;">
                    Normal Level <br><span style="font-size: 0.8em; font-weight: 400">60s</span>
                </button>
                <button class="timer-btn" data-time="90" style="flex:1; min-width: 45%; padding:0.75rem; border-radius:0.5rem; border:none; background:var(--green-900); color:var(--gray-300); border:2px solid var(--gray-300); font-weight:700; cursor:pointer;">
                    Soft Work<br><span style="font-size: 0.8em; font-weight: 400">90s</span>
                </button>
                <button class="timer-btn" data-time="120" style="flex:1; min-width: 45%; padding:0.75rem; border-radius:0.5rem; border:none; background:var(--green-900); color:var(--gray-300); border:2px solid var(--gray-300); font-weight:700; cursor:pointer;">
                    African Time <br><span style="font-size: 0.8em; font-weight: 400">120s</span>
                </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Game Screen -->
      <div id="game-screen" class="screen">
        <div id="current-team-indicator"></div>
        <header class="game-header">
          <div style="display: flex; gap: 0.5rem; align-items: center;">
            <button id="pause-btn" class="btn-icon" style="background: none; border: none; font-size: 2rem; cursor: pointer;">â¸ï¸</button>
            <button id="quit-game-btn" class="btn-quit">Quit</button>
          </div>
          <div class="score-display">
            <span class="label">Round Score:</span>
            <span id="score" class="value">0</span>
          </div>
          <div>
            <span id="timer" class="timer">90</span>
          </div>
        </header>

      <!-- Pause Overlay -->
      <div id="pause-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 3000; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
        <h1 style="color: var(--yellow-400); font-size: 3rem; margin-bottom: 2rem;">Oya Wait!</h1>
        <p style="color: var(--white); font-size: 1.5rem; margin-bottom: 2rem;">Game Paused</p>
        <div style="display: flex; gap: 1rem; flex-direction: column; align-items: center;">
          <button id="resume-btn" class="btn btn-primary" style="font-size: 1.5rem; padding: 1rem 3rem; max-width: 20rem;">Oya Continue â–¶ï¸</button>
          <button id="quit-pause-btn" class="btn btn-secondary" style="font-size: 1.25rem; padding: 0.75rem 2rem; max-width: 20rem;">Quit to Menu</button>
        </div>
      </div>
        <div class="card-container">
          <div id="game-card" class="game-card">
            <div class="card-section target">
              <p class="label">Dat Tin</p>
              <h2 id="target-word" class="target-word" data-splitting></h2>
            </div>
            <div class="card-section forbidden">
              <p class="label">No Talk Am!</p>
              <ul id="forbidden-words-list" class="forbidden-words-list"></ul>
            </div>
          </div>
        </div>
        <footer class="game-footer">
          <button id="pass-btn" class="btn btn-pass">Pass</button>
          <button id="correct-btn" class="btn btn-primary">Correct!</button>
        </footer>
      </div>

      <!-- Round Over Screen -->
      <div id="round-over-screen" class="screen">
        <div class="title-screen">
          <h1>Round Over!</h1>
          <div id="winner-display" class="winner-display">
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="trophy">ğŸ†</div>
            <div class="winner-banner">Current Leader</div>
            <div id="winner-team-name" class="winner-team"></div>
            <div id="winner-team-score" style="font-size: 1.5rem; font-weight: 600; color: var(--green-800); margin-top: 0.5rem;"></div>
          </div>
          <div id="scoreboard" class="scoreboard"></div>
          <button id="next-round-btn" class="btn btn-primary" style="max-width: 20rem;"></button>
          <button id="new-game-btn" class="btn btn-secondary" style="max-width: 20rem; margin-top: 1rem;">New Game</button>
        </div>
      </div>

      <!-- Get Ready Countdown Screen -->
      <div id="get-ready-screen" class="screen">
        <div class="countdown-screen">
          <div id="countdown-number" class="countdown-number">10</div>
          <div id="countdown-message" class="countdown-message">Get Ready!</div>
          <button id="skip-countdown-btn" class="btn-skip">Play Now</button>
        </div>
      </div>

      <!-- Game Over Screen -->
      <div id="game-over-screen" class="screen">
        <div class="title-screen">
          <h1>Game Over!</h1>
          <div id="final-winner-display" class="final-winner-display">
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="final-trophy">ğŸ†</div>
            <div class="victory-message">Champion!</div>
            <div id="final-winner-team-name" class="final-winner-team"></div>
            <div id="final-winner-team-score" class="final-score"></div>
          </div>
          <div id="final-scoreboard" class="scoreboard"></div>
          <button id="play-again-btn" class="btn btnprimary" style="max-width: 20rem; margin-top: 1rem;">Play Again</button>
        </div>
      </div>
      
      <!-- Review Screen -->
      <div id="review-screen" class="screen">
        <div class="title-screen">
            <h1>Review Round</h1>
            <div class="review-box" style="background: var(--green-800); padding: 1rem; border-radius: 0.5rem; width: 100%; max-width: 24rem; max-height: 60vh; overflow-y: auto;">
                <h3 style="color: var(--yellow-400); text-align: center; margin-top: 0;">Check Scores</h3>
                <ul id="review-list" style="list-style: none; padding: 0;">
                    <!-- Items will be injected here -->
                </ul>
            </div>
            <div style="font-size: 1.5rem; font-weight: 700; margin: 1rem 0;">
                Score: <span id="review-score" style="color: var(--yellow-400)">0</span>
            </div>
            <button id="confirm-score-btn" class="btn btn-primary">Confirm Score</button>
        </div>
      </div>

      <!-- Install Prompt -->
      <div id="install-prompt" class="install-prompt">
        <div class="install-content">
          <p>Wanna play offline? ğŸ‡³ğŸ‡¬</p>
        </div>
        <div class="install-actions">
          <button id="install-btn" class="btn-install">Download</button>
          <button id="close-install-btn" class="btn-close-install">Later</button>
        </div>
      </div>
    </main>

    <!-- External Libraries -->
    <script src="./lib/splitting.min.js"></script>
    
    <!-- Application -->
    <script type="module" src="./js/app.js"></script>
  </body>
</html>
